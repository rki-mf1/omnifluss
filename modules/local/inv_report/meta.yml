name: "INV_REPORT"
description: Generate a RMarkdown report in html-format.
keywords:
  - reporting
  - visualization
  - influenza
  - R
  - RMarkdown

input:
  - script:
      type: file
      description: |
        Relative path to the script. Needed to copy the script in Nextflows temporary directory, to avoid issues with the working directory. 
  - fastp_jsons:
      type: file(s)
      description: |
        Files generated by fastp containing read information.
      pattern: "*.fastp.json"
  - kraken_reports:
      type: file(s)
      description: |
        Files generated by kraken2 containing information about taxonomic classification.
      pattern: "*.report.txt"
  - mapping_references:
      type: file(s)
      description: |
        Files generated by kma, holding the top 5 inferred references.
      pattern: "*.kma.spa"
  - markduplicate_metrics:
      type: file(s)
      description: |
        Metrics-Files generated by picard markduplicates.
      pattern: "*.MarkDuplicates.metrics.txt"
  - bedtools_genomecov:
      type: file(s)
      description: |
        Files generated by bedtools genomecov, with information about coverage(s).
      pattern: "*.coverage.tsv"
  - samtools_coverage:
      type: file(s)
      description: |
        Files generated by samtools coverage, with information about coverage(s).
      pattern: "*.samtools_coverage.txt"
  - samtools_flagstat:
      type: file(s)
      description: |
        Files generated by samtools flagstat, with statistics of the read mapping.
      pattern: "*.samtools_coverage.txt"
  - consensus_calls:
      type: file(s)
      description: |
        Consensus sequences generated by bcftools consensus.
      pattern: "*.fa"
  - outdir:

output:
  - qc_report:
      type: file
      description: |
        final report containing information generated by the workflow
      pattern: "qc_report.html"
  - versions:
      type: file
      description: File containing software versions
      pattern: "versions.yml"
  - read_statistics:
      type: file
      description: Underlying csv-file read statistics table
      pattern: "read_statistics.csv"
  - kraken_classification:
      type: file
      description: Underlying csv-file for taxonomic classification table
      pattern: "versions.yml"
  - mapping_statistics:
      type: file
      description: Underlying csv-file for mapping statistics table
      pattern: "versions.yml"
  - top5_references:
      type: file
      description: Underlying csv-file for top 5 references table
      pattern: "versions.yml"
  - N_content_and_Ambiguous_calls:
      type: file
      description: Underlying csv-file for N-/Ambiguous contents file 
      pattern: "versions.yml"
    

authors:
  - "@DimitriTernovoj"
  - "@winterki"
maintainers:
  - "@DimitriTernovoj"
